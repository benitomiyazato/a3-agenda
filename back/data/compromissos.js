let compromissos = [
{
    id: 5,
    titulo: "Planejamento de Metas",
    descricao: "",
    dataInicio: new Date("2025-10-03T09:00:00"),
    dataFim: new Date("2025-10-03T10:00:00"),
    categoria: "Pessoal",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 6,
    titulo: "Reunião Estratégica",
    descricao: "Planejamento Q4",
    dataInicio: new Date("2025-10-06T14:00:00"),
    dataFim: new Date("2025-10-06T15:30:00"),
    categoria: "Trabalho",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 7,
    titulo: "Treino Funcional",
    descricao: "",
    dataInicio: new Date("2025-10-10T07:00:00"),
    dataFim: new Date("2025-10-10T08:00:00"),
    categoria: "Saúde",
    local: "Academia Vita",
    link: "",
    notificado: false
  },
  {
    id: 8,
    titulo: "Aula de Programação",
    descricao: "Estruturas de Dados",
    dataInicio: new Date("2025-10-14T19:00:00"),
    dataFim: new Date("2025-10-14T21:00:00"),
    categoria: "Estudos",
    local: "",
    link: "https://zoom.com/dev101",
    notificado: false
  },
  {
    id: 9,
    titulo: "Passeio no Parque",
    descricao: "",
    dataInicio: new Date("2025-10-18T16:00:00"),
    dataFim: new Date("2025-10-18T17:30:00"),
    categoria: "Lazer",
    local: "Parque da Cidade",
    link: "",
    notificado: false
  },
  {
    id: 10,
    titulo: "Consulta Dermatologista",
    descricao: "",
    dataInicio: new Date("2025-10-22T10:30:00"),
    dataFim: new Date("2025-10-22T11:15:00"),
    categoria: "Saúde",
    local: "Clínica DermaCare",
    link: "",
    notificado: false
  },
  {
    id: 11,
    titulo: "Revisão de Investimentos",
    descricao: "",
    dataInicio: new Date("2025-10-26T18:00:00"),
    dataFim: new Date("2025-10-26T18:45:00"),
    categoria: "Financeiro",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 12,
    titulo: "Jantar com a Família",
    descricao: "",
    dataInicio: new Date("2025-11-04T20:00:00"),
    dataFim: new Date("2025-11-04T22:00:00"),
    categoria: "Família",
    local: "Restaurante da Serra",
    link: "",
    notificado: false
  },
  {
    id: 13,
    titulo: "Aula de Yoga",
    descricao: "",
    dataInicio: new Date("2025-11-10T06:30:00"),
    dataFim: new Date("2025-11-10T07:30:00"),
    categoria: "Saúde",
    local: "Studio Zen",
    link: "",
    notificado: false
  },
  {
    id: 14,
    titulo: "Workshop de Criatividade",
    descricao: "",
    dataInicio: new Date("2025-11-15T09:00:00"),
    dataFim: new Date("2025-11-15T12:00:00"),
    categoria: "Eventos",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 15,
    titulo: "Churrasco com Amigos",
    descricao: "",
    dataInicio: new Date("2025-11-21T13:00:00"),
    dataFim: new Date("2025-11-21T17:00:00"),
    categoria: "Amigos",
    local: "Casa do Pedro",
    link: "",
    notificado: false
  },
  {
    id: 16,
    titulo: "Treinamento da Empresa",
    descricao: "Soft Skills",
    dataInicio: new Date("2025-11-29T09:00:00"),
    dataFim: new Date("2025-11-29T11:00:00"),
    categoria: "Trabalho",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 17,
    titulo: "Compras de Natal",
    descricao: "",
    dataInicio: new Date("2025-12-05T15:00:00"),
    dataFim: new Date("2025-12-05T17:30:00"),
    categoria: "Compras",
    local: "Shopping Iguatemi",
    link: "",
    notificado: false
  },
  {
    id: 18,
    titulo: "Reunião de Fechamento do Ano",
    descricao: "",
    dataInicio: new Date("2025-12-14T10:00:00"),
    dataFim: new Date("2025-12-14T11:30:00"),
    categoria: "Trabalho",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 19,
    titulo: "Ceia Antecipada com Família",
    descricao: "",
    dataInicio: new Date("2025-12-20T19:00:00"),
    dataFim: new Date("2025-12-20T22:00:00"),
    categoria: "Família",
    local: "Casa da Tia Ana",
    link: "",
    notificado: false
  },
  {
    id: 20,
    titulo: "Café da Manhã com Colega",
    descricao: "Conversar sobre ideias de projeto",
    dataInicio: new Date("2025-11-25T08:30:00"),
    dataFim: new Date("2025-11-25T09:30:00"),
    categoria: "Amigos",
    local: "Padaria Central",
    link: "",
    notificado: false
  },
  {
    id: 21,
    titulo: "Estudo de JavaScript",
    descricao: "",
    dataInicio: new Date("2025-11-25T20:00:00"),
    dataFim: new Date("2025-11-25T21:30:00"),
    categoria: "Estudos",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 22,
    titulo: "Revisão Financeira do Mês",
    descricao: "",
    dataInicio: new Date("2025-11-26T18:00:00"),
    dataFim: new Date("2025-11-26T18:45:00"),
    categoria: "Financeiro",
    local: "",
    link: "",
    notificado: false
  },
  {
    id: 23,
    titulo: "Caminhada Leve",
    descricao: "",
    dataInicio: new Date("2025-11-27T07:00:00"),
    dataFim: new Date("2025-11-27T07:40:00"),
    categoria: "Saúde",
    local: "Parque da Cidade",
    link: "",
    notificado: false
  },
  {
    id: 24,
    titulo: "Almoço Rápido",
    descricao: "Intervalo entre tarefas",
    dataInicio: new Date("2025-11-29T12:30:00"),
    dataFim: new Date("2025-11-29T13:30:00"),
    categoria: "Pessoal",
    local: "Restaurante Express",
    link: "",
    notificado: false
  },
  {
    id: 25,
    titulo: "Sessão de Filmes",
    descricao: "Maratona de filmes novos",
    dataInicio: new Date("2025-11-30T16:00:00"),
    dataFim: new Date("2025-11-30T19:00:00"),
    categoria: "Lazer",
    local: "Casa",
    link: "",
    notificado: false
  },
  {
    id: 26,
    titulo: "Teste Notificação",
    descricao: "Testando notificações",
    dataInicio: new Date("2025-11-24T19:50:00"),
    dataFim: new Date("2025-11-24T20:00:00"),
    categoria: "Lazer",
    local: "Casa",
    link: "",
    notificado: false
  }
];

let contadorId = 26;

function adicionarCompromisso(compromisso) {
  contadorId++;
  const compromissoComId = {
    ...compromisso,
    id: contadorId,
    notificado: false,
  };
  compromissos.push(compromissoComId);

  return compromissoComId;
}

function removerCompromisso(id) {
  compromissos = compromissos.filter((c) => c.id !== id);
}

function listarCompromissos() {
  return compromissos;
}

function buscarCompromissoPorId(id) {
  return compromissos.find((c) => c.id === id);
}

function editarCompromisso(id, novosDados) {
  const index = compromissos.findIndex((c) => c.id === id);

  if (index === -1) {
    return null;
  }

  compromissos[index] = {
    ...compromissos[index],
    ...novosDados,
    id: compromissos[index].id,
  };

  return compromissos[index];
}

module.exports = {
  adicionarCompromisso,
  removerCompromisso,
  listarCompromissos,
  buscarCompromissoPorId,
  editarCompromisso,
};
